
        Customers customer = tableView.getSelectionModel().getSelectedItem();
        if (customer != null) {
            try {
                System.out.println(customer);

                if (!customer.getPayments().isEmpty()) {
                    for (Payments payment : customer.getPayments()) {
                        if (payment.isOnline() || payment.isPending()) {
                            throw new RuntimeException("Ma masaxi kartid macmiilkan sababtoo ah " +
                                    "weli wakhtigu kama dhicin"
                            );
                        }
                        break;
                    }
                } else {
                    ButtonType haa = new ButtonType("Haa", ButtonBar.ButtonData.YES);
                    Alert alert = new Alert(Alert.AlertType.CONFIRMATION, "Ma hubtaa inaad masaxdo macmiilkan "
                            , haa, new ButtonType("Maya", ButtonBar.ButtonData.NO));

                    Optional<ButtonType> result = alert.showAndWait();

                    if (result.isPresent() && result.get().equals(haa)) {
                        System.out.println("Deleted");
                        // TODO: 16/04/2023 Remove from table and delete insha Allah
                        //CustomerService.fetchAllCustomer(UserService.users().get(0)).remove(customer);
                        tableView.getItems().remove(customer);
                    } else {
                        alert.close();
                    }
                }
            } catch (Exception e) {
                errorMessage(e.getMessage());
            }

        }